---
title: "DIã¨DIPã¨IoCã¨ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨"
emoji: "ðŸŒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["è¨­è¨ˆ", "ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³", "DI", "DIP", "IoC"]
published: false
---

# æ¦‚è¦
æœ¬è¨˜äº‹ã§ã¯ã€è¨­è¨ˆã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã§é »å‡ºã®ä»¥ä¸‹ã®å˜èªžãŸã¡ã®é–¢é€£æ€§ã‚’ã¾ã¨ã‚ã¾ã™ã€‚

- [ä¾å­˜æ€§ã®æ³¨å…¥ (Dependency Injection: DI)](https://ja.wikipedia.org/wiki/%E4%BE%9D%E5%AD%98%E6%80%A7%E3%81%AE%E6%B3%A8%E5%85%A5)
- [ä¾å­˜æ€§é€†è»¢ã®æ³•å‰‡ (Dependency Inversion Principle: DIP)](https://ja.wikipedia.org/wiki/%E4%BE%9D%E5%AD%98%E6%80%A7%E9%80%86%E8%BB%A2%E3%81%AE%E5%8E%9F%E5%89%87)
- [åˆ¶å¾¡ã®é€†è»¢ (Inversion of Control: IoC)](https://ja.wikipedia.org/wiki/%E5%88%B6%E5%BE%A1%E3%81%AE%E5%8F%8D%E8%BB%A2)
- ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³
    - [ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³](https://ja.wikipedia.org/wiki/Strategy_%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3)
    - [ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³](https://ja.wikipedia.org/wiki/Decorator_%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3)
    - etc...
- [ãƒ‡ãƒªã‚²ãƒ¼ãƒˆï¼ˆå§”è­²ï¼‰](https://ja.wikipedia.org/wiki/%E5%A7%94%E8%AD%B2)
- [åˆæˆ](https://en.wikipedia.org/wiki/Object_composition)

å„å˜èªžã®æ„å‘³ã¯ã“ã®è¨˜äº‹ã§ã¯æ—¢çŸ¥ã¨ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚ã¾ãŸæœ¬è¨˜äº‹ã«ãŠã‘ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã¯ã€Œã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã«ãŠã‘ã‚‹å†åˆ©ç”¨ã®ãŸã‚ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ï¼ˆé€šç§°GoFæœ¬ï¼‰ã¨ã„ã†æœ¬ã§å®šç¾©ã•ã‚ŒãŸã‚‚ã®ã‚’æŒ‡ã—ã¾ã™ã€‚

# å˜èªžã®é–¢ä¿‚æ€§
ä»¥ä¸‹ã®ç¯€ã«åˆ†ã‘ã¦ãã‚Œãžã‚Œã®é–¢é€£ã‚’èª¬æ˜Žã—ã¾ã™ã€‚
- DIã¨DIP
- DIã¨IoCã¨ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³
- ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã¨åˆæˆã¨ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨DI


### DIã¨DIP
DIPã‚’å®Ÿç¾ã•ã›ã‚‹æ–¹æ³•ã®ä¸€ã¤ã¨ã—ã¦DIãŒã‚ã‚Šã¾ã™ã€‚ä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã®å¼•æ•°ã®åž‹ã‚’interfaceã‚„abstract classãªã©ã®æŠ½è±¡åž‹ã¨ã—ã¦å®šç¾©ã—ã€ãã®æŠ½è±¡åž‹ã«ã—ãŸãŒã£ã¦å®Ÿè£…ã•ã‚ŒãŸä¸‹ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«æ¸¡ã—ã¦ã‚ã’ã‚Œã°ã€ä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒä¸‹ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç›´æŽ¥ä¾å­˜ã™ã‚‹ã“ã¨ã‚’é˜²ãã“ã¨ãŒã§ãã€DIã«ã‚ˆã‚ŠDIPã‚’å®Ÿç¾ã—ãŸã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚é€†ã«DIã‚’ã—ã¦ã„ã‚Œã°ã€DIPã‚’æº€ãŸã™ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

ãŸã ã—ã€DIPã®å®Ÿç¾æ–¹æ³•ã¯DIã ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚DIPã¯ã€Œä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒä¸‹ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç›´æŽ¥ä¾å­˜ã™ã‚‹ãªã€ã¨è¨€ã£ã¦ã„ã‚‹ã ã‘ãªã®ã§ã€ä¾‹ãˆã°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚ˆã†ã«[^1]ç¶™æ‰¿ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã‚‚å®Ÿç¾å¯èƒ½ã§ã™ã€‚ä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä½¿ç”¨ã—ãŸã„ä¸‹ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦å®šç¾©ã—ã¦ãŠãã€ãã‚Œã‚‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç¶™æ‰¿ã—ãŸä¸‹ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å´ã§è¡Œãˆã°ã€ä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚‚ä¸‹ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚‚æŠ½è±¡ã«ä¾å­˜ã—ã¦ãŠã‚ŠDIPã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ã¨è¨€ãˆã¾ã™ã€‚ä¸€æ–¹ã§ã€DIã«ã‚ˆã‚‹DIPã®å®Ÿç¾ã¯ä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ä¸‹ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®çµåˆåº¦ã‚’å¤§ããä¸‹ã’ã¦ãã‚Œã¾ã™ãŒã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã¯ç¶™æ‰¿ã‚’ç”¨ã„ã‚‹ãŸã‚ã€ä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ä¸‹ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®çµåˆåº¦ã¯å®¹æ˜“ã«é«˜ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€æŽ¨å¥¨ã•ã‚Œã‚‹æ–¹æ³•ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚


[^1]: ã“ã“ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚ˆã†ã«ã¨æ›¸ã„ãŸã®ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚ãã¾ã§ã‚‚ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®äº¤æ›ã‚’å®¹æ˜“ã«ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚ã‚Šã€DIPã®ãŸã‚ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã¯ãªã„ã‹ã‚‰ã§ã™ã€‚ã—ã‹ã—ã‚¢ãƒ–ã‚¹ãƒˆãƒ©ã‚¯ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç¶™æ‰¿å…ˆã«å®Ÿè£…ã•ã›ã¦ã€è¦ªã‚¯ãƒ©ã‚¹ã§ãã‚Œã‚’ä½¿ã†ã¨ã„ã†æ§‹é€ ã¯åŒã˜ã§ã™ã€‚

:::message
#### DIã®ãƒ¡ãƒªãƒƒãƒˆã¨ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
ãƒ¡ãƒªãƒƒãƒˆ
- ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§
- çµåˆåº¦ã®ä½Žä¸‹
- DIPã®å®Ÿç¾
- ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ã—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ä¾å­˜ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ãã‚‹ï¼ˆä»˜éŒ²ã€ŒDIã€ã§èª¬æ˜Žï¼‰

ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
- DIã‚³ãƒ³ãƒ†ãƒŠãªã—ã§ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–ãŒè¤‡é›‘
:::


### DIã¨IoCã¨ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³
IoCã®å®Ÿç¾æ–¹æ³•ã¨ã—ã¦DIãŒã‚ã‚Šã¾ã™ã€‚ã“ã®æ–¹å¼ã¯å¾—ã«æ„è­˜ã—ã¾ã›ã‚“ãŒã‚ã‚‰ã‚†ã‚‹ã¨ã“ã‚ã«ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ä¾‹ãˆã°ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’æ›¸ãã¨ãã«ã€ãƒœã‚¿ãƒ³ã«å¯¾ã—ã¦onClické–¢æ•°ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã¯ã‚ˆãã‚ã‚Šã¾ã™ãŒã€ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã„ã†å‡¦ç†ã®åˆ¶å¾¡ã¯æˆ‘ã€…ã§ã¯ãªãã€ã‚ãã¾ã§ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å´ã‚‚ã—ãã¯ãƒ–ãƒ©ã‚¦ã‚¶å´ãŒæ‹…ã£ã¦ãã‚Œã¦ãŠã‚Šã€ã“ã‚Œã¯åˆ¶å¾¡ã®åè»¢ï¼ˆIoCï¼‰ã ã¨è¨€ãˆã¾ã™[^2]ã€‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å´ã¯ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã‚‰onClické–¢æ•°ã‚’å‘¼ã³å‡ºã™ã®ã§onClické–¢æ•°ã«ä¾å­˜ã—ã¦ãŠã‚Šã€ãã‚ŒãŒcallbacké–¢æ•°ã¨ã„ã†å½¢ã§ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å´ã«æ³¨å…¥ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†æ„å‘³ã§DIã«ã‚ˆã‚ŠIoCã‚’å®Ÿç¾ã—ã¦ã„ã‚‹ã¨è¨€ãˆã¾ã™ã€‚ä»–ã«ã¯å¤šãã®webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ãŠã„ã¦ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åˆ©ç”¨è€…ã¯ç‰¹å®šã®URLã«æ¥ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦è¡Œã†å‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ãŒã€ä½•ã‚‰ã‹ã®å½¢ã§ãã®å‡¦ç†ã‚’ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å´ã«æ³¨å…¥ï¼ˆDIï¼‰ã™ã‚‹ã“ã¨ã§ã€ãã®å‡¦ç†ã®å‘¼å‡ºã‚’ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å´ãŒè‡ªå‹•ã§è¡Œã£ã¦ãã‚Œã¾ã™ï¼ˆIoCï¼‰ã€‚


[^2]: ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é•ã„ã¯ã€IoCãŒå®Ÿç¾ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã«ã‚ã‚‹ã¨æ€ã†ã®ã§ã€å¾ªç’°è«–æ³•çš„ãªèª¬æ˜Žã«ãªã£ã¦ã„ã¾ã™...

ã¾ãŸã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚DIã«ã‚ˆã‚Šå®Ÿç¾ã—ã¦ã„ã‚‹ã¨è¨€ãˆã¾ã™ã€‚GoFã®ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ä¸»ãªå‡¦ç†ã®ãƒ•ãƒ­ãƒ¼ã‚’æ‹…ã†ã‚¯ãƒ©ã‚¹Aã«ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è©³ç´°ã‚’ã‚‚ã¤åˆ¥ã‚¯ãƒ©ã‚¹Bã‚’ãƒ¡ãƒ³ãƒãƒ¼ã¨ã—ã¦ã‚‚ãŸã›ã‚‹ã“ã¨ã§å®Ÿç¾ã—ã¾ã™ãŒã€ã“ã®è©³ç´°ã‚¯ãƒ©ã‚¹Bã‚‚åŸºæœ¬çš„ã«å¤–éƒ¨ã‹ã‚‰æ³¨å…¥ã•ã‚Œã‚‹ã¨ã„ã†ç‚¹ã§DIã‚’ä½¿ã£ã¦ã„ã‚‹ã¨è¨€ãˆã¾ã™ã€‚ã“ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è©³ç´°å®Ÿè£…ã‚’ã‚¯ãƒ©ã‚¹ã«åˆ¶é™ã—ãªã‘ã‚Œã°ã€ä¸Šè¨˜ã®onClické–¢æ•°ã®ä¾‹ã‚‚ã€onClickã•ã‚ŒãŸã¨ãã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’äº¤æ›å¯èƒ½ã«ã—ã¦ã„ã‚‹ã¨ã„ã†æ„å‘³ã§ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ãªã‚Šã¾ã™ã€‚ã“ã®ã‚ˆã†ã«ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯IoCã®å®Ÿç¾æ–¹æ³•ã«ã‚‚ãªã‚Šãˆã¾ã™ã€‚DIã‚’ä½¿ã†ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ä»–ã«ã‚‚å¤šæ•°å­˜åœ¨ã—ã¾ã™ã€‚

ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å®Ÿè£…ã™ã‚‹ã¨ã„ã†ã®ã¯IoCã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ã§ã‚ã‚Šã€ãã®ãŸã‚ã«DIã¯è‡ªãšã¨ä½¿ã‚ã‚Œã‚‹ã‚‚ã®ã§ã€ãã®å®Ÿã¯ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ãªã£ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ãŒå¤šã„ã®ã§ã¯ãªã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚


### ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã¨åˆæˆã¨ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨DI

:::message
#### ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã¨ã¯
ãƒ‡ãƒªã‚²ãƒ¼ãƒˆï¼ˆå§”è­²ï¼‰ã¯ã„ãã¤ã‹ã®æ„å‘³ãŒæ··åœ¨ã—ã¦ä½¿ã‚ã‚Œã¾ã™ãŒã€æœ¬è¨˜äº‹ã§ã¯ã€Œã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆWrapperï¼‰ã®ãƒ¡ãƒ³ãƒãƒ¼ã‹ã‚‰ã€ãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ãƒ³ãƒãƒ¼ã§ã‚ã‚‹åˆ¥ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆWrappeeï¼‰ã®ãƒ¡ãƒ³ãƒãƒ¼ãŒå‘¼ã°ã‚Œã‚‹ã€ã¨ã„ã†æ„å‘³ã§ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã¨ã„ã†å˜èªžã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æ­£ç¢ºã«ã¯ã€Œãƒ‡ãƒªã‚²ãƒ¼ãƒˆã€ã¯Wrappeeã®ãƒ¡ãƒ³ãƒãƒ¼ã®è©•ä¾¡ãŒWrapperå´ã§è¡Œã‚ã‚Œã‚‹å ´åˆã®ã“ã¨ã‚’æŒ‡ã—ã¦ãŠã‚Šã€æœ¬è¨˜äº‹ã§ä½¿ç”¨ã™ã‚‹ã€Œãƒ‡ãƒªã‚²ãƒ¼ãƒˆã€ã§ã¯ã€Wrappeeã®ãƒ¡ãƒ³ãƒãƒ¼ã®è©•ä¾¡ãŒWrappeeå´ã§è¡Œã‚ã‚Œã‚‹ãŸã‚ã€æ­£ç¢ºã«ã¯ã€Œ**ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆè»¢é€ï¼‰**ã€ã¨å‘¼ã°ã‚Œã¾ã™[^3]ã€‚


[^3]: è‹±èªžç‰ˆã®wikipediaã«ã¯[forwarding](https://en.wikipedia.org/wiki/Forwarding_(object-oriented_programming))ã®ãƒšãƒ¼ã‚¸ãŒã‚ã‚Šã€ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã¨ã®é•ã„ãŒè¿°ã¹ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚æ—¥æœ¬èªžç‰ˆã§ã¯[å§”è­²](https://ja.wikipedia.org/wiki/%E5%A7%94%E8%AD%B2)ã®ãƒšãƒ¼ã‚¸ã§ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒï¼ˆèª¤ã£ã¦ï¼Ÿï¼‰èª¬æ˜Žã•ã‚Œã¦ã„ã¾ã™ã€‚

ãªãŠã€è‹±èªžç‰ˆwikipediaã®[forwarding](https://en.wikipedia.org/wiki/Forwarding_(object-oriented_programming))ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€Wrapperã¨Wrappeeã®ãƒ¡ãƒ³ãƒãƒ¼ã¯1:1å¯¾å¿œã—ã€åŒã˜è²¬å‹™ã‚’æŒã¤ï¼ˆåŒã˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ï¼‰ã“ã¨ã‚‚å®šç¾©ã®ä¸€éƒ¨ã¨ãªã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ãŒã€æœ¬è¨˜äº‹ã§ã¯ã“ã®å®šç¾©ã‚’ã€Œ**ç‹­ç¾©ã®ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**ã€ã¨ã—ã¦è¨€åŠã—ã€ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã¯å˜ç´”ã«Wrapperã‹ã‚‰Wrappeeã®ãƒ¡ãƒ³ãƒãƒ¼ãŒå‘¼ã°ã‚Œã¦ã„ã‚Œã°è‰¯ã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚ã“ã‚Œã«é–¢ã—ã¦ã¯ã€Œï¼ˆä»˜éŒ²ï¼‰ç‹­ç¾©ã®ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ã§è¿½è¨˜ã—ã¾ã™ã€‚


ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯ã‚¯ãƒ©ã‚¹ã«é™ã£ãŸè©±ã§ã¯ãªãã€ä¾‹ãˆã°ã‚ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãŒå†…éƒ¨ã§åˆ¥ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã‚“ã§ã„ã¦ã‚‚ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨å‘¼ã³ã¾ã™[^4]ã€‚ç¶™æ‰¿ã—ã¦å­ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‹ã‚‰è¦ªã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¶å ´åˆã§ã‚‚ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®å®šç¾©ã¯æº€ãŸã—ã¦ã„ã¾ã™ã€‚
:::


ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã¯åˆæˆã®å¿…è¦æ¡ä»¶ã§ã™ã€‚åˆæˆã¯åˆæˆã•ã‚ŒãŸã‚¯ãƒ©ã‚¹ã®ãƒ¡ãƒ³ãƒãƒ¼ã‚’ä½¿ã†ã“ã¨ãŒç›®çš„ãªã®ã§ã€åˆæˆã‚’ã™ã‚‹ãªã‚‰å¤šãã®å ´åˆãƒ‡ãƒªã‚²ãƒ¼ãƒˆã‚’ã—ã¦ã„ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ãŸã ã—ã€ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã¯ã€Œã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‹ã‚‰ãã®ã‚¯ãƒ©ã‚¹ã®ãƒ¡ãƒ³ãƒãƒ¼ã§ã‚ã‚‹åˆ¥ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¶ã“ã¨ã€ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã®æ–‡è„ˆã§ä½¿ã‚ã‚Œã‚‹ã“ã¨ãŒå¤šãã€ã“ã®æ–‡è„ˆã§ã¯åˆæˆã¯ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã®å‰æã¨ãªã£ã¦ã„ã¾ã™ã€‚

![](/images/di-dip-ioc-design-patterns/delegate.png =350x)

[^4]: wikipediaã®[forwarding](https://en.wikipedia.org/wiki/Forwarding_(object-oriented_programming))ã®ãƒšãƒ¼ã‚¸ã«ã¯ã€ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã‚’èª¬æ˜Žã™ã‚‹ãŸã‚ã«ã€ã‚¯ãƒ©ã‚¹ã§ã¯ãªããƒ¡ã‚½ãƒƒãƒ‰ã«ãŠã‘ã‚‹ä¾‹ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚


åˆæˆã«ã‚ˆã‚‹ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã‚’ä½¿ã£ãŸãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯è‰²ã€…ã‚ã‚Šã¾ã™ã€‚ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ»ãƒ—ãƒ­ã‚­ã‚·ãƒ‘ã‚¿ãƒ¼ãƒ³ãªã©ã¯ã€ã¾ã•ã«DIãƒ»åˆæˆãƒ»ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã‚’ç”¨ã„ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚ç‰¹ã«ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚„ãƒ—ãƒ­ã‚­ã‚·ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã¯Wrapperã¨Wrappeeã¯åŒã˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¦ãŠã‚Šãƒ¡ãƒ³ãƒãƒ¼ã¯1:1å¯¾å¿œã—ã¦ã„ã‚‹ãŸã‚ã€ã“ã‚Œã¯ç‹­ç¾©ã®ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã„ãˆã¾ã™ã€‚



# ã¾ã¨ã‚
è¨­è¨ˆå‘¨ã‚Šã§ã‚ˆãã§ã¦ãã‚‹å˜èªžãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é–¢ä¿‚ã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚ã“ã†ã„ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ç¹°ã‚Šè¿”ã—ä½¿ã‚ã‚Œã‚‹å®Ÿè£…æ–¹æ³•ã‚’æŠ½è±¡åŒ–ãƒ»è¨€èªžåŒ–ã—ãŸã ã‘ãªã®ã§ã€ãã®ã‚‚ã®ã¯é›£ã—ããªã„ã§ã™ãŒã€æ¦‚å¿µã‚’ç†è§£ã—ã¦ã„ã‚‹ã“ã¨ã§è¨­è¨ˆã®æ‰‹åŠ©ã‘ã«ãªã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚


# ï¼ˆä»˜éŒ²ï¼‰ DI
DIã¯æœ¬è¨˜äº‹ã§ã‚‚è¿°ã¹ãŸã¨ãŠã‚Šã€DIPã‚„IoCã®æ‰‹æ®µã¨ã—ã¦ç”¨ã„ã‚‰ã‚Œã¾ã™ã€‚ã•ã‚‰ã«ã¯ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã®å‘ä¸Šã‚„çµåˆåº¦ã®ä½Žä¸‹ã«ã‚‚å¯„ä¸Žã—ã¾ã™ã€‚ã“ã®ã‚ãŸã‚Šã¯[wikipedia](https://ja.wikipedia.org/wiki/%E4%BE%9D%E5%AD%98%E6%80%A7%E3%81%AE%E6%B3%A8%E5%85%A5)ã«ã‚‚æ›¸ã„ã¦ã„ã‚‹ã¨ãŠã‚Šãªã®ã§ã™ãŒã€t_wadaã•ã‚“ãŒã‚²ã‚¹ãƒˆå›žã®fukabori.fmã§ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã®DIã¨ã„ã†è©±ãŒã‚ã‚Šã€é¢ç™½ã‹ã£ãŸã®ã§ç´¹ä»‹ã§ã™ã€‚ã¾ãŸç°¡å˜ãªDIã‚³ãƒ³ãƒ†ãƒŠã®å®Ÿè£…ã®è©±ã‚‚ã‚ã‚Šå‹‰å¼·ã«ãªã‚Šã¾ã—ãŸã€‚
https://fukabori.fm/episode/48

# ï¼ˆä»˜éŒ²ï¼‰é–‹æ”¾/é–‰éŽ–åŽŸå‰‡ã¨ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³
æœ¬è¨˜äº‹ã§ã¯SOLIDåŽŸå‰‡ã®Dã§ã‚ã‚‹ä¾å­˜æ€§é€†è»¢ã®æ³•å‰‡ã¨ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é–¢é€£ã‚’èª¬æ˜Žã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã®è¨˜äº‹ã§ã¯ã€SOLIDåŽŸå‰‡ã®Oã§ã‚ã‚‹é–‹æ”¾/é–‰éŽ–åŽŸå‰‡ã¨ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é–¢é€£ã‚’èª¬æ˜Žã—ã¦ã‚ã‚Šéžå¸¸ã«é¢ç™½ã„ã§ã™ã€‚

http://objectclub.jp/community/memorial/homepage3.nifty.com/masarl/article/dp-ocp-2.html


# ï¼ˆä»˜éŒ²ï¼‰ç‹­ç¾©ã®ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

è‹±èªžç‰ˆã®wikipediaã«ãŠã‘ã‚‹[forwarding](https://en.wikipedia.org/wiki/Forwarding_(object-oriented_programming))ã®å®šç¾©ã¯ã€
>forwarding means that using a member of an object (ç•¥) results in actually using the **corresponding** member of a different object

> ï¼ˆè¨³ï¼‰ãƒ•ã‚¡ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯ã€ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ãƒ³ãƒãƒ¼ã‚’å‘¼ã¶ã¨ã€åˆ¥ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®**å¯¾å¿œã™ã‚‹**ãƒ¡ãƒ³ãƒãƒ¼ãŒå‘¼ã°ã‚Œã‚‹ã“ã¨ã§ã‚ã‚‹

ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã€Œå¯¾å¿œã™ã‚‹ã€ã®æ„å‘³ãŒæ›–æ˜§ãªã®ã§ã™ãŒã€ã“ã‚Œã¯ã€ŒåŒã˜è²¬å‹™ã‚’æŒã¤ã€ã¨ã„ã†ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚åˆ¥ã®è¨€ã„æ–¹ã‚’ã™ã‚‹ã¨ã€Wrapperã¨WrappeeãŒåŒã˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

wikipediaã«è¼‰ã£ã¦ã„ã‚‹ä¾‹ã¯åŸºæœ¬çš„ã«Wrapperã¨Wrappeeã®ãƒ¡ãƒ³ãƒãƒ¼ã¯åŒã˜ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã£ã¦ãŠã‚Šã€ä¾‹ã¨ã—ã¦æŒ™ã’ã‚‰ã‚Œã¦ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚„ãƒ—ãƒ­ã‚­ã‚·ãƒ‘ã‚¿ãƒ¼ãƒ³ãªã©ã®Wrapperã¨WrappeeãŒåŒã˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã‚‚ã®ã°ã‹ã‚Šã®ãŸã‚ã€wikipediaã«ãŠã‘ã‚‹ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®å®šç¾©ã¯ã€ã“ã®ã‚ˆã†ã«Wrapperã¨Wrappeeã®ãƒ¡ãƒ³ãƒãƒ¼ãŒ1:1å¯¾å¿œã—ã¦ã„ã‚‹ã“ã¨ãŒå‰æãªã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€ã“ã®å®šç¾©ã§ã¯ã‚ã‚‹å‡¦ç†ã®æµã‚Œã®ä¸­ã§åˆæˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ãƒ³ãƒãƒ¼ã‚’å‘¼ã¶ã“ã¨ã€ä¾‹ãˆã°ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ãªã©ã¯ã€ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã¯å‘¼ã°ãªã„ã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚

è«–æ–‡ã§ã®ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®å®šç¾©ã¯è¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã®ã§ã™ãŒã€ãƒ‡ãƒªã‚²ãƒ¼ãƒˆã«é–¢ã™ã‚‹è«–æ–‡ã®ä»¥ä¸‹ã®ã‚ˆã†ãªè¨˜è¼‰ã‹ã‚‰ã€ã‚„ã¯ã‚Šãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯Wrapperã¨Wrappeeã®ãƒ¡ãƒ³ãƒãƒ¼ãŒå¯¾å¿œã—ã¦ã„ã‚‹ã“ã¨ã¯å‰æã¨ã—ã¦ã„ã‚‹ã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚

>  If the object's personal characteristics are not relevant for answering the message, the object forwards the message on to the prototypes to see if one can respond to the message. This process of forwarding is called delegating the massage.
https://dl.acm.org/doi/pdf/10.1145/28697.28718

> Delegation, as discussed by Lieberman in [1] for a class-free (prototype-based) object model, is originally understood as the automatically forwarding of messages for which the receiving object (the message receiver) has no matching methods to a so-called parent object.
https://www.researchgate.net/profile/Bo-Jorgensen-5/publication/220901454_Superimposed_Delegation/links/0046351ca8d7de2062000000/Superimposed-Delegation.pdf

